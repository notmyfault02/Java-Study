# 동기화 메소드 및 동기화 블록
* 스레드가 사용 중인 객체를 다른 스레드가 변경할 수 없도록 하려면 스레드 작업이 끝날 때까지 객체에 잠금을 걸어서 다른 스레드가 사용할 수 없도록 해야 한다.
> _임계 영역_ 은 멀티 스레드 프로그램에서 단 하나의 스레드만 실행할 수 있는 코드 영역이다.

* 자바는 임계 영역을 지정하기 위해 동기화(Synchronized) 메소드와 동기화 블록을 제공한다.
* 스레드가 객체 내부의 동기화 메소드 또는 블록에 들어가면 즉시 객체에 잠금을 걸어 다른 스레드가 임계 영역 코드를 실행하지 못하도록 한다.
* 동기화 메소드를 만드는 방법은 메소드 선언에 synchronized 키워드를 붙이면 되는데, 인스턴스와 정적 메소드 어디든 붙일 수 있다.

~~~java
public synchronized void method() {
    임계 영역; //단 하나의 스레드만 실행
}
~~~

* 동기화 메소드는 메소드 전체 내용이 임계 영역이므로 스레드가 동기화 메소드를 실행하는 즉시 객체에는 잠금이 일어나고, 스레드가 동기화 메소드를 실행 종료하면 잠금이 풀린다.

* 메소드의 일부 내용만 임계 영역으로 만들고 싶다면 다음과 같이 동기화(synchronized) 블록을 만들면 된다

~~~java
public void method() {
    //여러 스레드가 실행 가능 영역

    ...
    synchronized(공유객체) {
        임계 영역 //단 하나의 스레드만 실행
    }
    //여러 스레드가 실행 가능한 영역
    ...
}
~~~

* 동기화 블록들의 외부 코드들은 여러 스레드가 동시에 실행할 수 있지만, 동기화 블록의 내부 코드는 임계 영역이므로 한 번에 한 스레드만 실행할 수 있고, 다른 스레드는 실행할 수 없다.
* 만약 동기화 메소드와 동기화 블록이 여러 개 있다면, 스레드가 이들 중 하나를 실행할 때 다른 스레드는 해당 메소드는 물론이고 다른 동기화 메소드 및 블록도 실행할 수 없다. 하지만 일반 메소드는 실행이 가능하다.